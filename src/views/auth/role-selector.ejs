<%- include('../partials/header') %>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-12">
            <h2 class="text-center mb-4">Selecciona tu rol</h2>
            
            <div class="role-selector">
                <!-- Administrador -->
                <div class="role-card" onclick="selectRole('admin')">
                    <div class="role-icon admin-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h5>Administrador</h5>
                    <p>Gestiona usuarios, cursos y supervisa el sistema educativo.</p>
                </div>

                <!-- Docente -->
                <div class="role-card" onclick="selectRole('docente')">
                    <div class="role-icon teacher-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h5>Docente</h5>
                    <p>Administra tus clases, calificaciones y seguimiento de estudiantes.</p>
                </div>

                <!-- Estudiante -->
                <div class="role-card" onclick="selectRole('estudiante')">
                    <div class="role-icon student-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h5>Estudiante</h5>
                    <p>Accede a tus cursos, calificaciones y material de estudio.</p>
                </div>
            </div>

            <!-- Formulario de login (inicialmente oculto) -->
            <div id="loginForm" style="display: none;" class="fade-scale">
                <form action="/auth/login" method="POST" class="mt-4">
                    <input type="hidden" name="rol" id="selectedRole">
                    <div class="form-group mb-3">
                        <label for="email">Correo electrónico</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="form-group mb-3">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Iniciar sesión</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
function selectRole(role) {
    // Remover la clase selected de todas las tarjetas
    document.querySelectorAll('.role-card').forEach(card => {
        card.classList.remove('selected');
    });
    
    // Agregar la clase selected a la tarjeta seleccionada
    const selectedCard = document.querySelector(`.role-card:has(.${role}-icon)`);
    selectedCard.classList.add('selected');
    
    // Actualizar el campo oculto y mostrar el formulario
    document.getElementById('selectedRole').value = role;
    const loginForm = document.getElementById('loginForm');
    loginForm.style.display = 'block';
    
    // Scroll suave hasta el formulario
    loginForm.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
</script>

<%- include('../partials/footer') %> 